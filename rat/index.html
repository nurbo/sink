<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="index, nofollow">
    <meta name="robots" content="noimageindex, noarchive">
    <meta name="author" content="Idle Institute">
    <meta name="copyright" content="© Idle Institute 2018">
    <meta name="keywords" content="">
    <meta name="description" content="The Idle Institute's Sink Residency | The Idle Institute (est. 2017) is a storytelling lab: a collective of writers, filmmakers, sound-artists and engineers founded by Sonia Bernac, Eliot Allison and Bruno Klopott. Combining theories of the public sphere with quantum physics, they investigate the potentialities of the story – seen as virtual matter and a precise political tool. This emerges from the presumption of an unstable narrative field, in which they examine unexpected couplings and clashes between narrative particles. The Idle Institute’s projects build from narrative experiments: poetic traps in urban space, phone pranks, impersonation games and sci-fi installations. Currently developing a theory of the narratology of the public sphere, their research explores narrative entanglement, machine(s) of writing and technologies of storytelling. They cheat occasionally, but only when it makes a good story...">
    <link rel="canonical" href="" />
    <title>A Rodents conundrum: A series of attempts at beginnings and endings | Idle Institute's Sink Residency</title>
    <link rel="stylesheet" href="/assets/css/normalize.css">
    <link rel="stylesheet" href="/assets/css/style.css">
    <script type="text/javascript" src="/assets/js/es6-promise.auto.min.js"></script>
    <script type="text/javascript" src="/assets/js/three.js"></script>
    <script type="text/javascript" src="/assets/js/three/Detector.js"></script>
    <script type="text/javascript" src="/assets/js/three/controls/OrbitControls.js"></script>
    <script type="text/javascript" src="/assets/js/three/loaders/GLTFLoader.js"></script>
    <script type="text/javascript" src="/assets/js/three/exporters/GLTFExporter.js"></script>
    <script type="text/javascript" src="/assets/js/three/exporters/OBJExporter.js"></script>
    <script type="text/javascript" src="/assets/js/three/exporters/STLExporter.js"></script>
  </head>
  <body>
    <main>
      <article>
        <header>
          <div id="back"><a href="/">←</a></div>
          <h1>A Rodents conundrum: A series of attempts at beginnings and endings</h1>
          <div class="cols">
            <div class="col"><p class="author"><a href="/">← Go back</a></p></div>
            <div class="col"><p class="author"><a href="/">Idle Institute</a></p></div>
            <div class="col"><p class="author"><a href="sink.sexy">Sink</a></p></div>
          </div>
          <div id="downloads" class="cols">
            <div class="col">
              <p class="author">Download the model:</p>
            </div>
            <div class="col">
              <p class="author" style="text-align: right;">
                <button id="save-gltf">glTF&trade;</button>
                <button id="save-obj">OBJ</button>
                <button id="save-stl">STL</button>
                <label>Binary? <input id="option-binary" name="binary" type="checkbox"/></label>
              </p>
            </div>
          </div>
        </header>
        <hr>
        <p>The Rat asked the earth for an apple, but the earth said apples make us short of breath. The Rat looked up from the earth and asked the sun, but the sun was soon swallowed by the dark, protective earth. The rat, to escape the angry earth, jumped into the paved tungsten streets of the city. The rat took apple cores from a nearby dustbin and ate gluttonously. The rat returned to the earth, full of pips. Feeling dizzy and lightheaded, the Rat begun vomiting them into the soil. The earth winced as the rat, surprised and agasp, breathed its last breath. And on the clenched eye of the earth, there grew an orchard.</p>
        <p>The Rat asked the earth for mercy, but the earth said that mercy was only gifted to those who practiced good deeds. The rat looked up from the earth and asked the sun what good deed it could perform, but the sun was soon swallowed by the protective darkness of the earth. The rat, to escape the unsympathetic earth, jumped into the paved tungsten streets of the city. It furrowed at the edge of the pavement and found himself surrounded by <i>husky, brownish rodents that weigh about 11 ounces.</i> The rat called loudly for the earth. Feeling dizzy and lightheaded, the Rat begun to vomit on the asphalt. The earth winced as the rat, surprised and agasp, breathed his last breath. And from beneath the clenched eye of the earth, it witnessed a rat’s mercy.</p>
        <p>The Rat asked the earth for money, but the earth said that money makes us short of breath. The rat looked up from the earth and asked the sun, but the sun was indifferent. The Rat, in search of what the earth couldn’t give, caught the bus into the paved tungsten streets of the city. It found the first person like itself and asked if they could give him money, and they asked it if it could speak. Amongst the cacophony of guidance, assistance and council, the rat called loudly for the earth. Feeling dizzy and lightheaded, the Rat begun to vomit words it had no intention of revealing. The earth gasped as the rat, lost and confused, filled its cheeks with methylphenidate and lost all of its weight. And from beneath the clenched skin of the earth lifted a small pressure spot where the Rat once stood.</p>
        <p>The Rat asked the earth for the end, but the earth said that ends come only to those who wait. The Rat looked up from the earth and asked the sun, but the sun was answering others’ questions behind the cloak of the earths protective darkness. The Rat, escaping the earth’s proclamation, stood as still as it could and looked towards the city in the valley. It heard the choir of conversations between beings, machines and signals—a deafening volume of similarities. He imagined himself calling to the earth in the middle of the humdrum, but sat fixed to the spot, uttering no single sound. Feeling dizzy and lightheaded, the rat begun to follow signs that ordered the cities conversations. The earth searched for the Rat, but found only something that was  <i>13 to 18 inches long including the 6 to 8 1/2 inch tail. It’s fur was coarse and mostly brown with scattered black on the upper surfaces and was a destructive pest found in urban and suburban neighbourhoods.</i> The Rat gasped as the earth stole into the chaos of the city, completely forgetting the rat.</p>
      </article>
    </main>
    <div id="render"></div>
    <script type="text/javascript">
if (!Detector.webgl) Detector.addGetWebGLMessage();

const which = 'maus';

function save(blob, filename) {
  var link = document.createElement('a');
  link.style.display = 'none';
  document.body.appendChild(link);
  link.href = URL.createObjectURL(blob);
  link.download = filename;
  link.click();
  link.parentNode.removeChild(link);
}

function saveString(text, filename) {
  console.debug('saveString: ' + filename);
  save(new Blob([text], { type: 'text/plain' }), filename);
}

function saveArrayBuffer(buffer, filename) {
  console.debug('saveArrayBuffer: ' + filename);
  save(new Blob([buffer], { type: 'application/octet-stream' }), filename);
}

function copyObjectforExport() {
  var materials = {
    "bobcat": new THREE.MeshPhongMaterial({
      color: 0xe2240f,
      combine: THREE.MixOperation,
      reflectivity: 0.5,
      transparent: true,
      opacity: 0.8,
      emissiveIntensity: 0.5,
      map: skin,
    }),
    "skull": new THREE.MeshStandardMaterial({
      color: 0xb87333,
      roughness: 0.70,
      metalness: 0.80,
      wireframe: true,
      emissiveIntensity: 0.4,
    }),
    "maus": new THREE.MeshLambertMaterial({
      color: 0x3ec4a2,
      emissiveIntensity: 0.5,
      reflectivity: 0.3,
      map: malachite,
    }),
    "beetle": new THREE.MeshStandardMaterial({
      color: 0xaaaaaa,
      // reflectivity: 0.8,
      metalness: 0.3,
      roughness: 0.9,
      emissiveIntensity: 0.5,
      map: coal,
    }),
    "rat": new THREE.MeshStandardMaterial({
      color: 0x99eeff,
      metalness: 0.8,
      roughness: 0.2,
      emissiveIntensity: 0.5,
    })
  };

  objectToExport = scene.children[0];

  if (objectToExport != null) {
    var copy = objectToExport.clone();
    copy.material = materials[copy.name];
    return copy;
  } else {
    console.error('exporter object is null');
    return null;
  }
}

var exporter = {
  options: function () {
    var options = {
      binary: document.getElementById('option-binary').checked,
      embedImages: true,
      forcePowerOfTwoTextures: true
    };

    return options;
  },
  GLTF: function () {
    console.debug('exporting gltf');
    var e = new THREE.GLTFExporter();
    e.parse(copyObjectforExport(), function (result) {
      if (result instanceof ArrayBuffer) {
        saveArrayBuffer(result, window.location.pathname.split('/')[1] + '.glb');
      } else {
        var output = JSON.stringify(result, null, 2);
        saveString(output, window.location.pathname.split('/')[1] + '.gltf');
      }
    }, exporter.options());
  },
  OBJ: function () {
    console.debug('exporting obj');
    var e = new THREE.OBJExporter();
    var result = e.parse(copyObjectforExport());
    if (result instanceof ArrayBuffer) {
      saveArrayBuffer(result, window.location.pathname.split('/')[1] + '.obj');
    } else {
      saveString(result, window.location.pathname.split('/')[1] + '.obj');
    }
  },
  STL: function () {
    console.debug('exporting stl');
    var e = new THREE.STLExporter();
    var result = e.parse(copyObjectforExport(),
      exporter.options());
    if (result instanceof ArrayBuffer) {
      saveArrayBuffer(result, window.location.pathname.split('/')[1] + '.stl');
    } else {
      saveString(result, window.location.pathname.split('/')[1] + '.stl');
    }
  }
};

function registerExporters() {
  document.getElementById('save-gltf').addEventListener('click', function () {
    exporter.GLTF();
  });
  document.getElementById('save-obj').addEventListener('click', function () {
    exporter.OBJ();
  });
  document.getElementById('save-stl').addEventListener('click', function () {
    exporter.STL();
  });
}

var container;
var scene;
var camera, controls, renderer, light;

var objects = {
  loader: null,
  scalingFactor: 10,
  material: null,
  emissiveColor: 0xb87333,
  positions: [
    {x:  0.1, y: 0.0, z:  0.15},  // name: bobcat; idx: 0;
    {x: 0.45, y: 0.0, z:  0.6},   // name: skull;  idx: 1;
    {x: -0.6, y: 0.0, z: -0.3},   // name: maus;   idx: 2;
    {x:  0.4, y: 0.0, z: -0.6},   // name: beetle; idx: 3;
    {x: -0.4, y: 0.1, z:  0.5}    // name: rat;    idx: 4;
  ],
  links: {
    "bobcat": '/bobcat/',
    "skull": '/seagull/',
    "maus": '/rat/',
    "beetle": '/beetle/',
    "rat": '/mouse/'
  },
  materials: {
    "bobcat": null, "skull": null, "maus": null, "beetle": null, "rat": null
  }
}

var manager = new THREE.LoadingManager();
manager.onProgress = function (item, loaded, total) {
  console.debug("LoadingManager: " + (loaded / total * 100).toFixed(1) + '% loaded');
};
manager.onLoad = function () {
  console.debug("LoadingManager: 100% loaded, starting animate()");
  registerExporters();
  animate();
}

var coal = new THREE.TextureLoader(manager).load('/assets/images/coal.jpg');
coal.wrapS = THREE.RepeatWrapping;
coal.wrapT = THREE.RepeatWrapping;

var skin = new THREE.TextureLoader(manager).load('/assets/images/skin.png');
skin.wrapS = THREE.RepeatWrapping;
skin.wrapT = THREE.RepeatWrapping;

var malachite = new THREE.TextureLoader(manager).load('/assets/images/malachite.jpg');
malachite.wrapS = THREE.RepeatWrapping;
malachite.wrapT = THREE.RepeatWrapping;

init();

function init() {

  // --------------------------------------------------------------------------
  // add scene
  scene = new THREE.Scene(manager);

  // add renderer
  renderer = new THREE.WebGLRenderer({
    alpha: true,
    autoSize: true,
    antialias: true,
    gammaOutput: false
  });
  renderer.setPixelRatio(window.devicePixelRatio);
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.setClearColor(0xffffff, 0);

  container = document.getElementById('render');
  container.appendChild(renderer.domElement);

  // add camera
  camera = new THREE.PerspectiveCamera(
    20, window.innerWidth / window.innerHeight, 40, 8);
  camera.position.set(
    objects.scalingFactor * 1,
    objects.scalingFactor * 1,
    objects.scalingFactor * 0
  );

  // --------------------------------------------------------------------------
  // add controls and auto-rotate
  controls = new THREE.OrbitControls(camera, renderer.domElement);
  controls.enableRotate = false;
  controls.enableZoom = false;
  controls.enableDamping = true;
  controls.enablePan = false;
  controls.dampingFactor = 0.9;
  controls.target.set(0, 0, 0);
  controls.update();

  // --------------------------------------------------------------------------
  // materials

  objects.material = new THREE.MeshDepthMaterial({
    wireframe: true,
    transparent: true,
    opacity: 0.05
  });

  // --------------------------------------------------------------------------
  // load the meshes
  objects.loader = new THREE.GLTFLoader(manager);
  objects.loader.load('/assets/models/objects-meshes.glb',
    onLoad = function (asset) {
      var idx = 0;
      asset.scene.traverse(function (child) {
        if (child.isMesh && child.name === which) {
          console.debug("GLTFLoader: name: " + child.name + "; idx: " + idx + ";");
          child.material = objects.material;
          child.scale.set(objects.scalingFactor, objects.scalingFactor, objects.scalingFactor);
          child.rotation.y = 1.25 * Math.PI;
          scene.add(child);
        }
      }); // asset.scene.traverse
    },
    onError = function (e) { console.error(e); }
  );

  window.addEventListener('resize', onWindowResize, false);
}

function animate() {
  requestAnimationFrame(animate);
  controls.update();
  camera.lookAt(scene.position);
  camera.updateMatrixWorld();
  // scene.children[0].rotation.x += 0.5e-03 * Math.PI;
  scene.children[0].rotation.y += 0.5e-03 * Math.PI;
  // scene.children[0].rotation.z += 0.5e-03 * Math.PI;
  renderer.render(scene, camera);
}

// window resize callback
function onWindowResize() {
  camera.aspect = window.innerWidth / window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
}
    </script>
  </body>
</html>
